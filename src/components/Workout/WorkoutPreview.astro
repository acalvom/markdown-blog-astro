---
import type { Workout } from '@interfaces/Workout'
import Badge from '../Shared/Badge.astro'
import Button from '../Shared/Button.astro'
import CardBages from './CardBadges.astro'

import {
  bodyIconPaths,
  categoriesIconPaths,
  equipmentIconPaths
} from '@utils/icon-paths'
import { capitalize } from '@utils/capitalize'

interface Props {
  workout: Workout
  path: string
}

const { workout, path } = Astro.props
const { bodyPart, equipment, gifUrl, id, instructions, name, secondaryMuscles, target } = workout
---

<article
  class="m-4 w-full rounded-lg border px-8 py-8 sm:max-w-sm sm:px-16 md:w-1/2 md:px-8 lg:w-1/3"
>
  <div class="flex flex-row items-center gap-6">
    <img class="max-w-14" src={gifUrl} alt={name} />
    <h4 class="text-xl font-extralight text-white lg:text-2xl">{capitalize(name)}</h4>
  </div>
  <div class="mt-6 flex flex-col">
    <!-- TODO: Component for this -->

    <CardBages sectionName="Category" iconPaths={categoriesIconPaths}>
      <Badge bgLevel={100} text={bodyPart} />
    </CardBages>

    <CardBages sectionName="Equipment" iconPaths={equipmentIconPaths}>
      <Badge bgLevel={200} text={equipment} />
    </CardBages>

    <CardBages sectionName="Muscles" iconPaths={bodyIconPaths}>
      {[target, ...secondaryMuscles].map((muscle) => <Badge bgLevel={400} text={muscle} />)}
    </CardBages>

    <Button path={`workouts/${id}`}><span class="mx-auto font-semibold">Instructions</span></Button>
  </div>
</article>
