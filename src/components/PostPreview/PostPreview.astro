---
import type { TPostMeta } from '@interfaces/Post'
import HeaderButton from '@components/Header/HeaderButton.astro'
import { formatDate } from '@utils/date'

interface Props {
  post: TPostMeta
  path: string
}

const { post, path } = Astro.props
const { title, description, author, pubDate, image } = post
---

<article class="mx-12 my-12 flex max-w-3xl md:mx-auto md:rounded-md md:border md:px-2">
  <div class="flex flex-col items-center border-l-2 md:flex-row md:border-none">
    <img class="md:w-2/3" src={image.src} alt={image.alt} />
    <div class="flex flex-col px-4 md:w-1/3">
      <h4 class="mb-6 mt-4 text-xl font-extralight text-white lg:text-2xl">{title}</h4>
      <p class="md:text-md mb-4 mt-2 text-sm font-medium text-gray-200">{description}</p>
      <p class="mb-4 text-xs font-light italic text-gray-300 md:text-sm lg:text-sm">
        By {author} on {formatDate(pubDate)}
      </p>
      <HeaderButton path={`posts/${path}`}
        ><span class="mx-auto font-semibold">Read more</span></HeaderButton
      >
    </div>
  </div>
</article>
